(this.webpackJsonpjsonpatchfilterexample=this.webpackJsonpjsonpatchfilterexample||[]).push([[0],{16:function(e,t,n){e.exports=n(29)},23:function(e,t,n){},29:function(e,t,n){"use strict";n.r(t);n(17);var a,r=n(0),c=n.n(r),i=n(10),o=n.n(i),s=n(15),u=n(1),l=n.n(u),p=n(2),d=n(3);function m(e){switch(e.status){case a.Idle:return r.createElement(r.Fragment,null);case a.Saving:return r.createElement("div",{className:"text-muted pt-2"},r.createElement("span",{role:"img","aria-label":"Saving"},"\ud83d\udd04")," Saving...");case a.Saved:return r.createElement("div",{className:"text-muted pt-2"},r.createElement("span",{role:"img","aria-label":"Green Check"},"\u2705")," Saved!");case a.Error:return r.createElement("div",{className:"text-muted pt-2"},r.createElement("span",{role:"img","aria-label":"Explode"},"\ud83d\udca5")," There was an error saving!");default:throw Error("Status not handled ".concat(e.status,"."))}}!function(e){e[e.Idle=0]="Idle",e[e.Saving=1]="Saving",e[e.Error=2]="Error",e[e.Saved=3]="Saved"}(a||(a={}));var v,f=n(11),h=n(12),b=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;Object(f.a)(this,e),this.endpoint=void 0,this.headers=void 0,this.redirectUri=void 0,this.redirectUri=n,this.endpoint="/api/".concat(t).replace("//","/"),this.headers=new Headers({Accept:"application/json","Content-Type":"application/json"})}return Object(h.a)(e,[{key:"get",value:function(){var e=Object(p.a)(l.a.mark((function e(){var t,n,a,r=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:null,n=this.endpoint+(null===t?"":"/"+t),e.next=4,fetch(n);case 4:return a=e.sent,e.abrupt("return",this.ensureValidResponse(a));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"patch",value:function(){var e=Object(p.a)(l.a.mark((function e(t,n,a){var r,c,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={method:"PATCH",body:JSON.stringify(t),redirect:"follow",headers:this.headers},e.next=3,fetch(this.endpoint,r);case 3:if(!(c=e.sent).ok){e.next=8;break}n(),e.next=18;break;case 8:return e.prev=8,e.next=11,c.json();case 11:i=e.sent,a(i),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(8),a("Unknown error.");case 18:case"end":return e.stop()}}),e,this,[[8,15]])})));return function(t,n,a){return e.apply(this,arguments)}}()},{key:"ensureValidResponse",value:function(){var e=Object(p.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.ok){e.next=2;break}throw Error("Request to ".concat(this.endpoint," failed."));case 2:return e.next=4,t.json();case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();!function(e){e.Add="add",e.Remove="remove",e.Replace="replace",e.Copy="copy",e.Move="move",e.Test="test"}(v||(v={}));var g,E=v;function w(e){var t=e.id,n=e.value,c=e.label,i=e.showLabel,o=e.propertyName,s=e.endpoint,u=e.type,v=Object(r.useState)(n),f=Object(d.a)(v,2),h=f[0],w=f[1],x=Object(r.useState)(n),j=Object(d.a)(x,2),y=j[0],k=j[1],O=Object(r.useState)(a.Idle),S=Object(d.a)(O,2),N=S[0],T=S[1],I=function(e,t){var n=Object(r.useState)(e),a=Object(d.a)(n,2),c=a[0],i=a[1];return Object(r.useEffect)((function(){var n=setTimeout((function(){i(e)}),t);return function(){clearTimeout(n)}})),c}(h,500),C=new b(s);Object(r.useEffect)((function(){function e(){return(e=Object(p.a)(l.a.mark((function e(){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==t){e.next=2;break}return e.abrupt("return");case 2:if(I===y){e.next=7;break}return k(I),n=[{op:E.Replace,path:o,value:I}],e.next=7,C.patch(n,(function(){T(a.Saved),setTimeout((function(){return T(a.Idle)}),1500)}),(function(e){T(a.Error)}));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}));var R="key_".concat(t,"_").concat(o),D="form-control ".concat(N===a.Error?" is-invalid":"");return r.createElement("div",{className:"form-group"},(i||void 0===i)&&r.createElement("label",{className:"text-muted",htmlFor:R},c),u===g.Input&&r.createElement("input",{type:"text",id:R,placeholder:c,name:R,className:D,value:null!==h&&void 0!==h?h:"",onChange:function(e){T(a.Saving),w(e.target.value)}}),u===g.Textarea&&r.createElement("textarea",{id:R,placeholder:c,name:R,className:D,value:null!==h&&void 0!==h?h:"",onChange:function(e){T(a.Saving),w(e.target.value)}}),r.createElement(m,{status:N}))}!function(e){e[e.Input=0]="Input",e[e.Textarea=1]="Textarea",e[e.Date=2]="Date"}(g||(g={}));n(23);function x(){var e="00dd1425-bfc7-4a60-b96b-de080c8c82db",t=Object(r.useState)(null),n=Object(d.a)(t,2),a=n[0],i=n[1],o=new b("widget/".concat(e)),s=function(){var e=Object(p.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.get();case 2:t=e.sent,i(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){null===a&&s()})),null===a?c.a.createElement("p",null,"Loading..."):c.a.createElement("div",{className:"container-fluid"},c.a.createElement("div",{className:"row p-4"},c.a.createElement("div",{className:"col-md-6"},c.a.createElement("p",{className:"text-muted"},"Editing Widget ID ",c.a.createElement("b",null,a.id)),c.a.createElement(w,{id:a.id,value:a.title,type:g.Input,label:"Titel:",propertyName:"Title",endpoint:"widget/".concat(e)}),c.a.createElement(w,{id:a.id,value:a.description,type:g.Textarea,label:"Description:",propertyName:"Description",endpoint:"widget/".concat(e)}))))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var j=document.getElementsByTagName("base")[0].getAttribute("href")||void 0,y=document.getElementById("root");o.a.render(c.a.createElement(s.a,{basename:j},c.a.createElement(x,null)),y),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[16,1,2]]]);
//# sourceMappingURL=main.66cb10f9.chunk.js.map